<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register - My Virtual Kitchen</title>
  <link rel="stylesheet" href="/public/css/style.css">
</head>
<body>

<header id="main-header">
  <nav>
    <div class="logo">
      <a href="/home"><img src="/public/images/logo.jpg" alt="Logo"></a>
    </div>
    <ul>
      <li><a href="/home">Home</a></li>
      <li><a href="/viewRecipes">Recipes</a></li>
      <li><a href="/register">Register</a></li>
      <li><a href="/login">Login</a></li>
    </ul>
    <form action="/viewRecipes" method="GET" class="search-form">
      <input type="text" name="search" placeholder="Search Recipes..." required>
      <button type="submit">🔍</button>
    </form>
  </nav>
</header>

<main style="margin-top: 50px;">
  <h1>Register</h1>

  <!-- Inline error message area -->
  <p id="register-error" style="color: red; text-align: center;"></p>

  <form id="register-form" action="/register" method="POST" style="margin: 30px auto; width: 300px; text-align: left;">
    <label>Username:</label><br>
    <input type="text" name="username" required style="width: 100%; padding: 8px;"><br><br>

    <label>Email:</label><br>
    <input type="email" name="email" required style="width: 100%; padding: 8px;"><br><br>

    <label>Password:</label><br>
    <input type="password" name="password" required style="width: 100%; padding: 8px;"><br><br>

    <button type="submit" style="padding: 10px 20px;">Register</button>
  </form>

  <p style="text-align: center;">Already have an account? <a href="/login">Login here</a></p>
</main>

<footer>
  <p style="text-align: center;">© 2025 My Virtual Kitchen</p>
</footer>

<!-- Show error passed from server -->
<script>
  const params = new URLSearchParams(window.location.search);
  if (params.has('error')) {
    document.getElementById('register-error').textContent = decodeURIComponent(params.get('error'));
  }
</script>

</body>
</html>
